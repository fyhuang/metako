"use strict";(()=>{function r(){return"mtkEntry"in window?window.mtkEntry:null}function o(e,t){let n=r();n===null||!n.is_video||jQuery.ajax("/api/video_history",{type:"POST",data:JSON.stringify({path:n.repo_path,current_ts:Math.floor(e),current_ratio:t}),contentType:"application/json"})}function i(){let e=document.querySelector("#mainvideo");e.addEventListener("timeupdate",t=>{o(e.currentTime,e.currentTime/e.duration)}),document.addEventListener("keyup",t=>{t.key==="k"?e.paused?e.play():e.pause():t.key==="j"?e.currentTime-=10:t.key==="l"&&(e.currentTime+=10),t.key==="f"&&(document.fullscreenElement===null?e.requestFullscreen():document.exitFullscreen())})}addEventListener("DOMContentLoaded",()=>{let e=r();e===null||!e.is_video||i()});function d(e){if(navigator.clipboard)navigator.clipboard.writeText(e).then(()=>{console.log("copy done")}).catch(()=>{alert("error")});else{let t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),t.remove()}}window.writeToClipboard=d;})();
//# sourceMappingURL=index.js.map
